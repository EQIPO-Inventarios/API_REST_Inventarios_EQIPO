swagger: '2.0'
info:
  description: API
  version: 1.0.0
  title: Inventarios API
  # put the contact info for your development or API team
  contact:
    email: jhosepchai@gmail.com

  license:
    name: GNU GPL 3.0
    url: https://www.gnu.org/licenses/gpl-3.0.html

# tags are used for organizing operations
tags:
- name: development
- name: Usuarios
- name: Niveles
- name: Departamentos
- name: Proveedores
- name: Sucursales
- name: Bodegas
- name: Productos
- name: Entradas




paths:
  /token:
    get:
      tags:
      - development
      summary : Genera token por 24 horas
      operationId: generarToken
      description: |
        Al hacer la peticion se genera un token temporal por 24 horas
      responses:
        200:
          description: Devuelve apiKey para peticiones 
      

  /Usuarios/listar:
    get:
      tags:
      - Usuarios
      summary: Lista usuarios
      operationId: listarUsuarios
      description: |
        Al hacer la peticion sin parametros se devolvera una lista de objetos de usuarios
      produces:
      - application/json

      security:
      - api_key: []
      
      responses:
        200:
          description: Devuelve array de usuarios activos
          schema:
            type: array
            items:
              $ref: '#/definitions/User'
        400:
          description: bad input parameter
          
  /Usuarios/login:
    post:
      tags:
      - Usuarios
      summary: Login de usuario
      description: Permite al usuario hacer login
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: itemLogin
        description: Datos correctos para hacer login
        schema:
          $ref: '#/definitions/user_login'
      responses:
        200:
          description: peticion correcta
          
     
        404:
          description: invalid input, object invalid
  
  /Usuarios/crear:
    post:
      tags:
      - Usuarios
      summary: Agregar un nuevo usuario
      description: Agregar un nuevo usuario
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: Usuario
        description: Items de usuario a crear
        schema:
          $ref: '#/definitions/NewUser'
      
      security:
      - api_key: []
      
      responses:
        200:
          description: OK
          schema :
            type : array
            items:
              $ref : '#/definitions/Usuario'

  /Usuarios/actualizar:
    put:
      tags:
      - Usuarios
      summary: Actualiza un usuario
      description: Actualizar datos de un usuario
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: Usuario
        description: Items de usuario a actualizar
        schema:
          $ref: '#/definitions/ActualizarUser'
      security:
      - api_key: []
      
      responses:
        200:
          description: OK
          schema :
            type : array
            items:
              $ref : '#/definitions/Usuario'

  /Usuarios/eliminar/{_id}:
    delete:
      tags:
      - Usuarios
      summary: Eliminar un usuario
      description: Eliminar o dar de baja a un usuario
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - name: _id
        in: path
        description: ID de la sucursal a eliminar
        required: true
        type: string
      
      responses:
        200:
          description: OK
          
          
  /Niveles/crear:
    post:
      tags:
      - Niveles
      summary: Agregar un nuevo nivel
      description: Agregar un nuevo nivel de usuario
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: NivelItem
        description: Item de nivel a agregar
        schema:
          $ref: '#/definitions/NewNivel'

      security:
      - api_key: []

      responses:
        200:
          description: OK
          schema :
            type : array
            items:
              $ref : '#/definitions/NivelItem'
              
  /Niveles/eliminar/{_id}:
    delete:
      tags:
      - Niveles
      summary: Eliminar un  nivel
      description: Eliminar un  nivel de usuario
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - name: _id
        in: path
        description: ID del nivel a eliminar
        required: true
        type: string
      
      security:
      - api_key: []
        
      
      responses:
        200:
          description: OK
  
  /Niveles/actualizar:
    put:
      tags:
      - Niveles
      summary: Actualiza un  nivel
      description: Actualizar un  nivel de usuario
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: Nivel item
        description: Item de nivel a actualizar
        schema:
          $ref: '#/definitions/NewNivel'
      security:
      - api_key: []
      
      responses:
        200:
          description: OK
          schema :
            type : array
            items:
              $ref : '#/definitions/NivelItem'
          
  /Niveles/listar:
    get:
      tags:
      - Niveles
      summary: Listar todos niveles
      description: Listar todos nivel de usuario
      consumes:
      - application/json
      produces:
      - application/json
      security:
      - api_key: []
      responses:
        200:
          description: OK
          schema :
            type : array
            items:
              $ref : '#/definitions/NivelItem'
          
    
    
    
  /Departamentos/listar:
    get:
      tags:
      - Departamentos
      summary: Listar todos Departamentos
      description: Listar todos Departamentos del Pais
      consumes:
      - application/json
      produces:
      - application/json
      
      security:
      - api_key: []
      
      responses:
        200:
          description: OK
          schema :
            type : array
            items:
              $ref : '#/definitions/Departamentos'
  
  /Proveedores/listar:
    get:
      tags:
      - Proveedores
      summary: Listar todos los proveedores
      description: Listar todos los proveedores existentes
      consumes:
      - application/json
      produces:
      - application/json

      security:
      - api_key: []
    
      
      responses:
        200:
          description: OK
          schema :
            type : array
            items:
              $ref : '#/definitions/Proveedores'
  
  /Proveedores/crear:
    post:
      tags:
      - Proveedores
      summary: Agregar nuevo proveedor
      description: Agregar un nuevo proveedor
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: Proveedores
        description: Items de proveedor a agregar
        schema:
          $ref: '#/definitions/NewProveedor'
      security:
      - api_key: []
      
      responses:
        200:
          description: OK
          schema :
            type : array
            items:
              $ref : '#/definitions/Proveedores'

  /Proveedores/actualizar:
    put:
      tags:
      - Proveedores
      summary: Actualizar proveedor
      description: Actualizar un proveedor
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: Proveedores
        description: Items de proveedor a actualizar
        schema:
          $ref: '#/definitions/UpdateProveedor'
      
      security:
      - api_key: []

      responses:
        200:
          description: OK
          schema :
            type : array
            items:
              $ref : '#/definitions/Proveedores'  
  
  /Proveedores/eliminar/{_id}:
    delete:
      tags:
      - Proveedores
      summary: Eliminar un proveedor
      description: Eliminar un  proveedor
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - name: _id
        in: path
        description: ID del proveedor a eliminar
        required: true
        type: string
      security:
      - api_key: []
      
      responses:
        200:
          description: OK

  /Sucursales/crear:
    post:
      tags:
      - Sucursales
      summary: Agregar una nueva sucursal
      description: Agregar una nueva sucursal con su respectiva bodega
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: Sucursales
        description: Items de sucursal con bodega a agregar
        schema:
          $ref: '#/definitions/NewSucursal_Bodega'
      security:
      - api_key: []
      responses:
        200:
          description: OK
          schema :
            type : array
            items:
              $ref : '#/definitions/Sucursal'

  /Sucursales/listar:
    get:
      tags:
      - Sucursales
      summary: Listar todas las sucursales
      description: Listar todos las sucursales existentes
      consumes:
      - application/json
      produces:
      - application/json

      security:
      - api_key: []
      
      responses:
        200:
          description: OK
          schema :
            type : array
            items:
              $ref : '#/definitions/Sucursal'

  /Sucursales/actualizar:
    put:
      tags:
      - Sucursales
      summary: Actualizar datos sucursal
      description: Actualizar datos unicamente de una sucursal no de sus bodegas
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: Proveedores
        description: Items de sucursal a actualizar
        schema:
          $ref: '#/definitions/UpdateSucursal'
        
      security:
      - api_key: []
      
      responses:
        200:
          description: OK
          schema :
            type : array
            items:
              $ref : '#/definitions/Sucursal'
      
  /Sucursales/eliminar/{_id}:
    delete:
      tags:
      - Sucursales
      summary: Eliminar una sucursal
      description: Eliminar o dar de baja a una sucursal
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - name: _id
        in: path
        description: ID de la sucursal a eliminar
        required: true
        type: string

      security:
      - api_key: []
      
      responses:
        200:
          description: OK

  /Bodegas/crear:
    put:
      tags:
      - Bodegas
      summary: Agregar una nueva bodega a una sucursal
      description: Agregar una nueva bodega a una sucursal ya existente
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: Sucursales
        description: Items de bodega a agregar
        schema:
          $ref: '#/definitions/NewBodega'

      security:
      - api_key: []
      
      responses:
        200:
          description: OK
          schema :
            type : array
            items:
              $ref : '#/definitions/Bodega'
  
  /Bodegas/listar/{_id}:
    get:
      tags:
      - Bodegas
      summary: Listar bodegas de una sucursal
      description: Listar las bodegas que contenga una sucursal
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - name: _id
        in: path
        description: ID de la sucursal a listar sus bodegas
        required: true
        type: string

      security:
      - api_key: []
      
      responses:
        200:
          description: OK
          schema :
            type : array
            items:
              $ref : '#/definitions/Bodega'

  /Productos/crear:
    post:
      tags:
      - Productos
      summary: Agregar un nuevo producto
      description: Agregar un nuevo producto
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: Productos
        description: Items de producto a agregar
        schema:
          $ref: '#/definitions/NewProducto'
      security:
      - api_key: []
      responses:
        200:
          description: OK
          schema :
            type : array
            items:
              $ref : '#/definitions/Producto'

  /Productos/listar:
    get:
      tags:
      - Productos
      summary: Listar todos los productos
      description: Listar todos los productos existentes
      consumes:
      - application/json
      produces:
      - application/json

      security:
      - api_key: []
      
      responses:
        200:
          description: OK
          schema :
            type : array
            items:
              $ref : '#/definitions/Producto'

  /Productos/actualizar:
    put:
      tags:
      - Productos
      summary: Actualizar datos producto
      description: Actualizar datos de los productos
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: Productos
        description: Items de producto a actualizar
        schema:
          $ref: '#/definitions/UpdateProducto'
        
      security:
      - api_key: []
      
      responses:
        200:
          description: OK
          schema :
            type : array
            items:
              $ref : '#/definitions/Producto'

  /Productos/eliminar/{_id}:
    delete:
      tags:
      - Productos
      summary: Eliminar un producto
      description: Eliminar o dar de baja a un producto
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - name: _id
        in: path
        description: ID del producto a eliminar
        required: true
        type: string

      security:
      - api_key: []
      
      responses:
        200:
          description: OK

  /Entradas/crear:
    post:
      tags:
      - Entradas
      summary: Agregar una nueva entrada
      description: Agregar una nueva entrada
      consumes:
      - application/json
      produces:
      - application/json
      parameters:
      - in: body
        name: Productos
        description: Items de entrada a agregar
        schema:
          $ref: '#/definitions/NewEntrada'
      security:
      - api_key: []
      responses:
        200:
          description: OK
          schema :
            type : array
            items:
              $ref : '#/definitions/Entrada'

  /Entradas/listar:
    get:
      tags:
      - Entradas
      summary: Listar todas las entradas
      description: Listar todos las entradas existentes
      consumes:
      - application/json
      produces:
      - application/json

      security:
      - api_key: []
      
      responses:
        200:
          description: OK
          schema :
            type : array
            items:
              $ref : '#/definitions/Entrada'

securityDefinitions:
  api_key:
    type: "apiKey"
    name: "access-token"
    in: "header"


definitions:
  user_login:
    type: object
    required:
    - usuario
    - password
    - name
    - lastname
    - createAt
    - token
    - estado
    
    properties:
      usuario:
        type: string
        example: jhosepIslam
      password:
        type: string
        example: 123 
    
  User:
    type: object
    properties:
      id:
        type: object
      usuario:
        type: string
      name:
        type: string
      lastName:
        type: string
      email:
        type: string
      password:
        type: string
      createdAt:
        type: string
      estado:
        type: boolean
      
    xml:
      name: User
  
  NewUser:
    type: object
    properties:
      Nombres:
        type: string
      Apellidos:
        type: string
      Fecha_Nacimiento:
        type: string
      DUI:
        type: string
      NIT:
        type: string
      TipoEstadoCivil:
        type: string
      NumeroEstadoCivil:
        type: number
      Departamento:
        type: string
      Municipio:
        type: string
      Descripcion:
        type: string
      Correo:
        type: string
      Telefono:
        type: string
      idSucursal:
        type: string
      NombreUsuario:
        type: string
      Password:
        type: string
      TipoNivel:
        type: string
      NumeroNivel:
        type: string
    xml:
      name: NewUser
  
  Usuario:
    type: object
    properties:
      personal:
        type: object
        properties:
          Nombres:
            type: string
          Apellidos:
            type: string
          Fecha_Nacimiento:
            type: Date
          DUI:
            type: string
          NIT:
            type: string
          EstadO_Civil:
            type: object
            properties:
              Tipo:
                type: string
              Numero:
                type: number
          Contacto:
            type: object
            properties:
              Direccion:
                type: object
                properties:
                  Departamento:
                    type: string
                  Municipio:
                    type: string
                  Descripcion:
                    type: string
              Correo:
                type: string
              Telefono:
                type: string
          idSucursal:
            type: string
      usuario:
        type: string
      password:
        type: string
      Nivel:
        type: object
        properties:
          TipoNivel:
            type: string
          NumeroNivel:
            type: string
    xml:
      name: Usuario

  ActualizarUser:
    type: object
    properties:
      id:
        type: object
      Nombres:
        type: string
      Apellidos:
        type: string
      Fecha_Nacimiento:
        type: Date
      DUI:
        type: string
      NIT:
        type: string
      Tipo:
        type: string
      Numero:
        type: number
      Departamento:
        type: string
      Municipio:
        type: string
      Descripcion:
        type: string
      Correo:
        type: string
      Telefono:
        type: string
      idSucursal:
        type: string
      usuario:
        type: string
      password:
        type: string
      TipoNivel:
        type: string
      NumeroNivel:
        type: string
    xml:
      name: ActualizarUser

  NivelItem:
    type: object
    properties:
      _id:
        type: object
      Estado:
        type: boolean
      Tipo:
        type: string
      Numero:
        type: number
    xml:
      name: Nivel
    
    
  NewNivel:
    type: object
    properties:
      id:
        type: object
      Tipo:
        type: string
      Numero:
        type: number
    xml:
      name: NewNivel
    
  Departamentos:
    type: object
    properties:
      Departamento:
        type: string
      Municipios:
        type: array
        items:
          type: string
          minItems: 5
            
            
          
          
    xml:
      name: Departamentos

  
  Proveedores:
    type: object
    properties:
      _id:
        type: object
      Nombre:
        type: string
      Razon_Social:
        type: string
      Contacto:
        type: object
        properties:
          Direccion:
            type: object
            properties:
              Departamento: 
                type: string
              Municipio:
                type: string
              Detalle:
                type: string
          Telefono:
            type: string
          Correo:
            type: string
      Estado:
        type: boolean
    xml:
      name: Proveedores
  
  NewProveedor:
    type: object
    properties:
      Nombre:
        type: string
      Razon_Social:
        type: string
      Departamento:
        type: string
      Municipio:
        type: string
      Descripcion:
        type: string
      Telefono:
        type: string
      Correo:
        type: string
    xml:
      name: NewProveedores

  UpdateProveedor:
    type: object
    properties:
      id:
        type: object
      Nombre:
        type: string
      Razon_Social:
        type: string
      Departamento:
        type: string
      Municipio:
        type: string
      Descripcion:
        type: string
      Telefono:
        type: string
      Correo:
        type: string
    xml:
      name: UpdateProveedor
  
  NewSucursal_Bodega:
    type: object
    properties:
      Nombre:
        type: string
      Codigo:
        type: number
      Departamento:
        type: string
      Municipio:
        type: string
      Descripcion:
        type: string
      Telefono:
        type: string
      Correo:
        type: string
      NumeroBodega:
        type: number
      Largo:
        type: number
      Ancho:
        type: number
      Estanterias:
        type: number
    
    xml:
      name: NewSucursal_Bodega
      

  Sucursal:
    type: object
    properties:
      Nombre:
        type: string
      Codigo:
        type: number
      Contacto:
        type: object
        properties:
          Direccion:
            type: object
            properties:
              Departamento:
                type: string
              Municipio:
                type: string
              Descripcion:
                type: string  
          Telefono: 
            type: string
          Correo: 
            type: string
      Estado:
        type: boolean
      Bodega:
        type : array
        items:
          type: Schema
          minItems: 1
    xml:
      name: Sucursal
  
  UpdateSucursal:
    type: object
    properties:
      id:
        type: object
      Nombre:
        type: string
      Codigo:
        type: number
      Departamento:
        type: string
      Municipio:
        type: string
      Descripcion:
        type: string
      Telefono:
        type: string
      Correo:
        type: string
    xml:
      name: NewSucursal_Bodega

  NewBodega:
    type: object
    properties:
      id:
        type: object
      Estanterias:
        type: number
      Largo:
        type: number
      Ancho:
        type: number
    xml:
      name: NewProveedores

  NewProducto:
    type: object
    properties:
      CodigoProducto:
        type: string
      NombreProducto:
        type: string
      Material:
        type: string
      Caracteristicas:
        type: string
      Existencias:
        type: number
      Precio_Unitario:
        type: number
      Nombre:
        type: string
      Razon_Social:
        type: string
      Departamente:
        type: string
      Municipio:
        type: string
      Descripcion:
        type: string
      Telefono: 
        type: string
      Correo:
        type: string
    xml:
      name: NewProducto

  Producto:
    type: object
    properties:
      CodigoProducto:
        type: string
      NombreProducto:
        type: string
      Material:
        type: string
      Caracteristicas:
        type: string
      Existencias:
        type: number
      Proveedor:
        type: object
        properties:
          Nombre:
            type: string
          Razon_Social:
            type: string
          Contacto:
            type: object
            properties:
              Direccion:
                type: object
                properties:
                  Departamente:
                    type: string
                  Municipio:
                    type: string
                  Descripcion:
                    type: string
              Telefono: 
                type: string
              Correo:
                type: string
      Precio_Unitario:
        type: number
    xml:
      name: Producto

  UpdateProducto:
    type: object
    properties:
      id:
        type : object
      CodigoProducto:
        type: string
      NombreProducto:
        type: string
      Material:
        type: string
      Caracteristicas:
        type: string
      Existencias:
        type: number
      Precio_Unitario:
        type: number
      Nombre:
        type: string
      Razon_Social:
        type: string
      Departamente:
        type: string
      Municipio:
        type: string
      Descripcion:
        type: string
      Telefono: 
        type: string
      Correo:
        type: string
    xml:
      name: UpdateProducto

  NewEntrada:
    type: object
    properties:
      Fecha:
        type: Date
      Detalle:
        type: string
      idProducto:
        type: string
      Cantidad:
        type: number
      Monto:
        type: number
      idSucursal:
        type: string
      NumeroBodega:
        type: number
      Estanterias:
        type: number
      Largo:
        type: number
      Ancho:
        type: number
      Estanteria:
        type: number
      X:
        type: number
      Y:
        type: number
    xml:
      name: NewEntrada

  Entrada:
    type: object
    properties:
      Fecha:
        type: Date
      Detalle:
        type: string
      idProducto:
        type: string
      Cantidad:
        type: number
      Monto:
        type: number
      idSucursal:
        type: string
      Ubicacion_Bodega:
        type: object
        properties:
          Bodega:
            type: object
            properties:
              NumeroBodega:
                type: number
              Estanterias:
                type: number
              Largo:
                type: number
              Ancho:
                type: number
          Estanteria:
            type: number
          X:
            type: number
          Y:
            type: number
    xml:
      name: Entrada

      
      
host: api-multibodegas-eqipo.azurewebsites.net/
basePath: /api
schemes:
 - https
 - http
 